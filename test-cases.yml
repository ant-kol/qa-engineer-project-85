---
- summary: |
    Проверка регистрации пользователя по email
  requirement: |
    Пользователь должен пройти регистрацию в системе по email
  prerequisites: |
    Открыта страница входа в систему
  test-data: |
    Nickname = Nickname_test2 Email = Email_test2@mail.ru Пароль = Password_test
  steps:
    - Вводим логин
    - Вводим email
    - Вводим пароль
    - Вводим подтверждение пароля
    - Нажимаем кнопку Submit
  expected-result: |
    Пользователь успешно зарегистрирован

- summary: |
    Проверка авторизации пользователя по email
  requirement: |
    При верном вводе email и пароле пользователь должен войти в систему
  prerequisites: |
    Открыта страница входа в систему
  test-data: |
    Email  = Email_test@mail.ru Пароль = Password_test
  steps:
    - Вводим email
    - Вводим пароль
    - Нажимаем кнопку Submit
  expected-result: |
    Пользователь авторизован

- summary: |
    Проверка входа пользователя с несуществующими email и паролем
  requirement: |
    При неправильном email или пароле пользователь должен получить сообщение об ошибке
  prerequisites:
    Открыта страница входа в систему
  test-data: |
    Email  = Emailtest@mail.ru Пароль = Passwordtest
  steps:
    - Вводим email
    - Вводим пароль
    - Нажимаем кнопку Submit
  expected-result: |
    Пользователь должен получить сообщение об ошибке

- summary: |
    Проверка входа пользователя с данными профиля Github
  requirement: |
    Пользователь должен успешно авторизоваться в системе
  prerequisites:
    Открыта страница входа в систему
  test-data: |
    no data
  steps:
    - Нажимаем кнопку «Войти в систему с помощью Github»
    - Нажимаем кнопку авторизации
  expected-result: |
    Пользователь авторизован

- summary: |
    Проверка входа пользователя с данными профиля Discord
  requirement: |
    Пользователь должен успешно авторизоваться в системе
  prerequisites:
    Открыта страница входа в систему
  test-data: |
    no data
  steps:
    - Нажимаем кнопку «Войти в систему с помощью Discord»
    - Нажимаем кнопку авторизации
  expected-result: |
    Пользователь авторизован

- summary: |
    Проверка выхода из профиля пользователя
  requirement: |
    При нажатии на кнопку Выход пользователь должен выйти из своего профиля
  prerequisites:
    Пользователь авторизован
  test-data: |
    no data
  steps:
    - Нажимаем кнопку «Выйти»
  expected-result: |
    Пользователь должен выйти из профиля

- summary: |
    Проверка восстановления пароля при авторизации по email
  requirement: |
    Пользователь должен получить возможность изменения пароля для входа в систему
  prerequisites:
    Открыта страница входа в систему
  test-data: |
    no data
  steps:
    - Нажимаем кнопку «Забыли свой пароль?»
    - Вводим email
    - Проверяем сообщение со ссылкой на смену пароля на указанном email
    - Переходим по ссылке из письма для смены пароля
    - Вводим новый пароль
  expected-result: |
    Пользователь должен получить сообщение об успешной смене пароля

- summary: |
    Проверка участия в игре без регистрации на сайте
  requirement: |
    Пользователь может участвовать в игре без авторизации на сайте
  prerequisites:
    no data
  test-data: |
    no data
  steps:
    - Нажимаем кнопку «Try simple battle»
  expected-result: |
    Пользователь подключается к игре

- summary: |
    Проверка изменения данных пользователя в профиле
  requirement: |
    Пользователь может изменять свои данные в личном кабинете
  prerequisites:
    no data
  test-data: |
    no data
  steps:
    - Заходим в настройки профиля
    - Изменяем данные в поле «Your name»
    - Изменяем данные в поле «Your weapon»
    - Изменяем данные в поле «Your clan»
    - Изменяем данные в поле "Select sound type"
    - Нажимаем на кнопку "Save"
  expected-result: |
    Данные успешно изменены

- summary: |
    Проверка возможности просмотра открытого исходного кода игры
  requirement: |
    Пользователь может перейти на Github из личного профиля для просмотра открытого исходного кода игры
  prerequisites:
    no data
  test-data: |
    no data
  steps:
    - Нажимаем на "SourceCode" из профиля пользователя
  expected-result: |
    Пользователь переходит в репозиторий на Github

- summary: |
    Проверка перехода на сайт Hexlet
  requirement: |
    Пользователь может перейти на сайт Hexlet из личного профиля
  prerequisites:
    no data
  test-data: |
    no data
  steps:
    - Нажимаем на "Hexlet" из профиля пользователя
  expected-result: |
    Открывается главная страница сайта Hexlet

- summary: |
    Проверка перехода в сообщество игры в телеграмм канале
  requirement: |
    Пользователь может перейти в сообщество игры в телеграмм канале из личного профиля
  prerequisites:
    no data
  test-data: |
    no data
  steps:
    - Нажимаем на "Tg#codebattle" из профиля пользователя
  expected-result: |
    Открывается канал Codebattle в Telegram

- summary: |
    Проверка создания новой игры с ботом
  requirement: |
    Пользователь может создать новую игру с соперником-ботом
  prerequisites: |
    no data
  test-data: |  
    no data 
  steps:
    - Нажимаем на Create a game
    - Выбираем тип игры With a bot
    - Остальные параметры выбираем произвольные
    - Нажимаем на "Create battle"
  expected-result: |
    Создается новая игра с выбранными параметрами

- summary: |
    Проверка возможности сдаться сопернику во время игры
  requirement: |
    Пользователь может уступить победу сопернику во время игры
  prerequisites: |
    Пользователь находится в игре
  test-data: |  
    no data 
  steps:
    - Нажимаем на кнопку Other action
    - Нажимаем Give Up
    - Во всплывающем окне подтверждаем выбор Give Up
  expected-result: |
    Пользователь получает сообщение о проигрыше

- summary: |
    Проверка создания новой игры с выбором соперника
  requirement: |
    Пользователь может создать новую игру и выбрать соперника
  prerequisites: |
    no data
  test-data: |  
    no data 
  steps:
    - Нажимаем на Create a game
    - Выбираем тип игры With a friend
    - Выбираем соперника из выпадающего списка или вводим конкретный Nikname в графе поиска
    - Остальные параметры выбираем произвольные
    - Нажимаем "Create battle"
  expected-result: |
    В шапке сайта пользователь видит уведомление, что выбранному сопернику отправлено приглашение вступить в игру

- summary: |
    Проверка принятия приглашения на игру от другого пользователя
  requirement: |
    Пользователь может начать игру по приглашению от другого участника
  prerequisites: |
    Авторизоваться на сайте под двумя разными аккаунтами в разных вкладках
  test-data: |  
    Nikname = Email_test Email  = Email_test@mail.ru Пароль = Password_test
    Nikname = Email_test3 Email  = Email_test3@mail.ru Пароль = Password_test3
  steps:
    - Нажимаем на Create a game от пользователя Email_test
    - Выбираем тип игры With a friend
    - Вводим в графе поиска Nikname Email_test3
    - Остальные параметры выбираем произвольные
    - Нажимаем "Create battle"
    - Пользователь Email_test3 видит значок нового уведомления в шапке профиля
    - Пользователь Email_test3 нажимает Accept для принятия приглашения в игру
  expected-result: |
    Открывается игра

- summary: |
    Проверка подключения к игре, созданной другим пользователем
  requirement: |
    Пользователь может принять участие в игре, созданной другим участником
  prerequisites: |
    no data
  test-data: |  
    no data
  steps:
    - В лобби нажимаем Fight на любой игре
  expected-result: |
    Игра начинается

- summary: |
    Проверка просмотра игры между другими участниками в качестве зрителя
  requirement: |
    Пользователь может просматривать игру между другими участниками
  prerequisites: |
    В лобби есть информация о текущей игре со статусом Playing
  test-data: |  
    no data
  steps:
    - В лобби нажимаем Show в доступной игре
  expected-result: |
    Пользователь видит игру между другими участниками в режиме онлайн 

- summary: |
    Проверка внесения изменений в редактор кода в игре между другими участниками
  requirement: |
    Пользователь может только смотреть за игрой между другими участниками
  prerequisites: |
    В лобби есть информация о текущей игре
  test-data: |  
    no data
  steps:
    - В лобби нажимаем Show в доступной игре
    - В редакторе кода вводим любой текст
  expected-result: |
    Введённый текст не отобразился в редакторе кода, пользователь получил уведомление, что редактор доступен только для чтения 

- summary: |
    Проверка сброса в редакторе кода во время игры
  requirement: |
    Пользователь во время игры может сбросить редактор кода в исходное состояние
  prerequisites: |
    Открыта игра
  test-data: |  
    no data 
  steps:
    - Вводим в редакторе кода произвольный текст
    - Выбираем Reset Solution в Other action над редактором кода
  expected-result: |
    Текст в окне редактора возвращается в исходное состояние

- summary: |
    Проверка смены языка программирования во время игры
  requirement: |
    Пользователь во время игры может изменить выбранный язык программирования
  prerequisites: |
    Открыта игра
  test-data: |  
    no data 
  steps:
    - Над редактором кода во всплывающем списке выбираем язык программирования отличный от выбранного
  expected-result: |
    Пользователь видит наименование нового выбранного языка, текст в окне редактора изменяется в соответствии с выбранным ЯП

- summary: |
    Проверка своего решения во время игры
  requirement: |
    Пользователь во время игры может проверить свое решение
  prerequisites: |
    Открыта игра
  test-data: |  
    no data 
  steps:
    - Над редактором кода нажимаем кнопку Run
  expected-result: |
    Пользователь видит результат проверки на вкладке Output

- summary: |
    Проверка предложения матча-реванша сопернику-победителю
  requirement: |
    Пользователь может предложить матч-реванш сопернику
  prerequisites: |
    Пользователь получил уведомление о победе соперника 
  test-data: |  
    no data 
  steps:
    - Нажимаем на кнопку "Rematch" в поле соперника
  expected-result: |
    Игра начинается заново

- summary: |
    Проверка просмотра задачи на английском и русском языках во время игры
  requirement: |
    Пользователь должен иметь возможность во время игры просматривать задачу на английском и русском языках
  prerequisites: |
    Открыта игра
  test-data: |  
    no data 
  steps:
    - На вкладке Task в выпадающем списке переключаемся между "RU" и "EN" 
  expected-result: |
    Текст задачи отображается на выбранном языке

- summary: |
    Проверка просмотра отсчета времени во время игры
  requirement: |
    Пользователь должен видеть время, оставшееся до окончания игры
  prerequisites: |
    Открыта игра
  test-data: |  
    no data 
  steps:
    - no data 
  expected-result: |
    Пользователь видит обратный отсчет времени в шапке своего окна

- summary: |
    Проверка просмотра редактора соперника во время игры
  requirement: |
    Пользователь во время игры видит свой редактор и редактор соперника
  prerequisites: |
    Открыта игра
  test-data: |  
    no data 
  steps:
    - Смотрим, что в окне игры отображаются два редактора кода
  expected-result: |
    Пользователь видит свой редактор и редактор соперника

- summary: |
    Проверка просмотра повтора игры
  requirement: |
    Пользователю доступен просмотр записи игры
  prerequisites: |
    Открыта игра
  test-data: |  
    no data 
  steps:
    - Нажимаем на Open History
    - Нажимаем на кнопку воспроизведения внизу экрана
  expected-result: |
    Воспроизводится запись игры

- summary: |
    Проверка отправки сообщения в чате с соперником
  requirement: |
    Пользователь может вести переписку с соперником в чате
  prerequisites: |
    Открыта игра
  test-data: |  
    no data 
  steps:
    - Набираем произвольный текст с использованием доступных смайликов в поле ввода сообщения
    - Нажимаем кнопку Send
  expected-result: |
    Пользователь видит своё сообщение в чате с указанием своего логина и временем отправки

- summary: |
    Проверка возвращения в начатую игру
  requirement: |
    Пользователь может вернуться в начатую игру до окончания времени
  prerequisites: |
    Открыта игра
  test-data: |  
    no data 
  steps:
    - Нажимаем на кнопку "Back to home"
    - На главной странице экрана в лобби находим начатую игру
    - Нажимаем Continue
  expected-result: |
    Пользователь попадает обратно в игру

- summary: |
    Проверка просмотра списка турниров
  requirement: |
    Пользователь должен иметь возможность просматривать информацию о турнирах
  prerequisites: |
    no data
  test-data: |  
    no data 
  steps:
    - Нажимаем на "Tournaments"
  expected-result: |
    Отображается список турниров

- summary: |
    Проверка создания турнира
  requirement: |
    Пользователь может создать турнир
  prerequisites: |
    Открыт список турниров
  test-data: |  
    no data 
  steps:
    - После списка турниров в таблице Create a new tournament заполняем поля произвольными данными
    - Нажимаем на кнопку "Create"
  expected-result: |
    В списке турниров появляется новый турнир

- summary: |
    Проверка просмотра таблицы лидеров по рейтингу за неделю, месяц и за всё время 
  requirement: |
    Пользователь может видеть лидеров рейтинга за неделю, месяц и за всё время
  prerequisites:
    no-data
  test-data: |
    no-data
  steps:
    - Нажать на кнопку Month
    - Нажать на кнопку All
    - Нажать на кнопку Week
  expected-result: |
    Происходит переключение между страницами таблицы лидеров

- summary: |
    Проверка просмотра информации о другом пользователе
  requirement: |
    Пользователь просматривать информации о другом пользователе
  prerequisites: |
    no data
  test-data: |  
    no data 
  steps:
    - Нажимаем на nickname любого игрока онлайн или таблице лидеров
    - Нажимаем Info во всплывающем окне
  expected-result: |
    Отображается доступная информация о выбранном пользователе

- summary: |
    Проверка поиска определённого пользователя в рейтинговой таблице
  requirement: |
    Пользователь может найти определённого пользователя по рейтинговой таблице
  prerequisites:
    no-data
  test-data: |
    Username = Nickname_test
  steps:
    - Нажать на кнопку Top List внизу таблицы лидеров
    - На вкладке Total в поле поиска ввести имя пользователя
  expected-result: |
    Пользователь видит данные искомого пользователя 

- summary: |
    Проверка просмотра списка задач
  requirement: |
    Пользователю доступен просмотр списка задач
  prerequisites: |
    no data
  test-data: |  
    no data 
  steps:
    - Нажимаем на свой логин в правом верхнем углу
    - Нажимаем на Tasks
  expected-result: |
    Открывается список задач

- summary: |
    Проверка создания новой задачи
  requirement: |
    Пользователь может создать новую задачу
  prerequisites: |
    Открыт список задач
  test-data: |  
    no data 
  steps:
    - Нажимаем на Create new task
    - Заполняем поля произвольными данными
    - Нажимаем Save
  expected-result: |
    В списке появляется созданная задача  

- summary: |
    Кроссбраузерная проверка
  requirement: |
    Сайт в разных браузерах отображается корректно, функциональность не нарушена
  prerequisites:
    no-data
  test-data: |
    Открыты браузеры Google Chrome, Firefox
  steps:
    - Открыть сайт в указанных браузерах
  expected-result: |
    Сайт работает и отображается без ошибок

- summary: |
    Проверка мобильной версии
  requirement: |
    Мобильная версия работает и отображается корректно
  prerequisites:
    Открыта мобильная версия сайта
  test-data: |
    Устройства = iPad Mini, iPhone 14 Pro Max, iPhone SE
  steps:
    - Открываем режим адаптивного дизайна
    - Выбираем устройства
  expected-result: |
    Мобильная версия отображается и работает корректно
